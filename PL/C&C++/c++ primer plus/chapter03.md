# 第3章 处理数据
面向对象编程（OOP）的本质是设计并扩展自己的数据类型。设计自己的数据类型就是让类型与数据匹配。
内置的C++类型分两组：基本类型和复合类型。本章将介绍基本类型，即整数和浮点数。
存储数据、使用变量、类型转换。
## 3.1 简单变量
程序必须记录3个基本属性：
- 信息将存储在哪里；
- 要存储什么值；
- 存储何种类型的信息。
### 3.1.1 变量名
必须遵循几种简单的C++命名规则。
- 在名称中只能使用字母字符、数字和下划线（_）。
- 名称的第一个字符不能是数字。
- 区分大写字符与小写字符。
- 不能将C++关键字用作名称。
- 以两个下划线或下划线和大写字母打头的名称被保留给实现（编译器及其使用的资源）使用。以一个下划线开头的名称被保留给实现，用作全局标识符。
- C++对于名称的长度没有限制，名称中所有的字符都有意义，但有些平台有长度限制。
倒数第二点与前面几点有些不同，因为使用像_time_stop或_Donut这样的名称不会导致编译器错误，而会导致行为的不确定性。全局名称指的是名称被声明的位置。
> 在ANSI C中，前63个字符相同的名称被认为是相同的，即使第64个字符不同
如果想用两个或更多的单词组成一个名称，通常的做法是用下划线字符将单词分开，如my_onions；或者从第二个单词开始将每个单词的第一个字母大写，如myEyeTooth。
### 3.1.2 整型
整数就是没有小数部分的数字。不同C++整型使用不同的内存量来存储整数。
C++的基本整型（按宽度递增的顺序排列）分别是char、short、int、long和C++11新增的long long，其中每种类型都有符号版本和无符号版本，因此总共有10种类型。
### 3.1.3 整型short、int、long和long long
C++的short、int、long和long long类型通过使用不同数目的位来存储值。C++提供了一种灵活的标准：
- short至少16位；
- int至少与short一样长；
- long至少32位，且至少与int一样长；
- long long至少64位，且至少与long一样长。
这4种类型（int、short、long和long long）都是符号类型，这意味着每种类型的取值范围中，负值和正值几乎相同。例如，16位的int的取值范围为-32768到+32767。
#### 1.运算符sizeof和头文件limits
**sizeof**运算符返回类型或变量的长度，单位为字节。头文件climits（在老式实现中为limits.h）中包含了关于整型限制的信息。
对类型名（如int）使用sizeof运算符时，应将名称放在括号中；但对变量名（如n_short）使用该运算符，括号是可选的
> #define和#include一样，也是一个预处理器编译指令。C++有一种更好的创建符号常量的方法（使用关键字const，将在后面的一节讨论），所以不会经常使用#define。
#### 2.初始化
初始化将赋值与声明合并在一起。
```
int uncles = 5;
int aunts = uncles;
int chairs = aunts + uncles + 4;
```
C++还有另一种C语言没有的初始化语法：

`int wrens(432);`
#### 3.C++11初始化方式
还有另一种初始化方式，这种方式用于数组和结构，但在C++98中，也可用于单值变量：采用这种方式时，可以使用等号（=），也可以不使用：大括号内可以不包含任何东西。在这种情况下，变量将被初始化为零：
```
int emus{7};
int rheas = {12};
int rocs = {};
int psychics{};
```
这有助于更好地防范类型转换错误
通过使用C++新增的大括号初始化器，初始化常规变量的方式与初始化类变量的方式更像。
### 3.1.4 无符号类型
前面介绍的4种整型都有一种不能存储负数值的无符号变体，其优点是可以增大变量能够存储的最大值。只需使用关键字unsigned来修改声明即可：
```
unsigned short change;
unsigned int rovert;
unsigned quarterback;
unsigned long gone;
unsigned long long lang_lang;
```
unsigned本身是unsigned int的缩写。
C++并不保证符号整型超越限制（上溢和下溢）时不出错
### 3.1.5 选择整型类型
**自然长度**（natural size）指的是计算机处理起来效率最高的长度。如果没有非常有说服力的理由来选择其他类型，则应使用int。
仅当有大型整型数组时，才有必要使用short。如果节省内存很重要，则应使用short而不是使用int，即使它们的长度是一样的。如果只需要一个字节，可使用char
### 3.1.6 整型字面值
C++能够以三种不同的计数方式来书写整数：基数为10、基数为8（老式UNIX版本）和基数为16（硬件黑客的最爱）。C++使用前一（两）位来标识数字常量的基数。
- 如果第一位为1～9，则基数为10（十进制）
- 如果第一位是0，第二位为1～7，则基数为8（八进制）
- 如果前两位为0x或0X，则基数为16（十六进制）；对于十六进制数，字符a～f和A～F表示了十六进制位
在默认情况下，cout以十进制格式显示整数
不管把值书写为10、012还是0xA，都将以相同的方式存储在计算机中—被存储为二进制数（以2为基数）。如果要以十六进制或八进制方式显示值，则可以使用cout的一些特殊特性。提供了控制符dec、hex和oct，分别用于指示cout以十进制、十六进制和八进制格式显示整数。

`cout << hex`

代码不会在屏幕上显示任何内容，而只是修改cout显示整数的方式。控制符hex实际上是一条消息，告诉cout采
取何种行为。另外，由于标识符hex位于名称空间std中，而程序使用了该名称空间，因此不能将hex用作变量名。然而，如果省略编译指令using，而使用std::cout、std::endl、std::hex和std::oct，则可以将hex用作变量名。
